(this["webpackJsonpreact-blog-www"]=this["webpackJsonpreact-blog-www"]||[]).push([[8],{186:function(e,t,a){"use strict";t.a={ARTICLE_FIND:"/blog/article/find",ARTICLE_DETAILS:"/blog/article/details",BANNER_FIND:"/blog/banner/find",CATEGORY_FIND_ALL:"/blog/category/findAll"}},364:function(e,t,a){},498:function(e,t,a){"use strict";a.r(t);var i=a(56),c=a(23),l=a(24),n=a(64),s=a(26),r=a(25),o=(a(364),a(0)),m=a.n(o),u=a(208),f=a.n(u),E=a(186),g=a(162),N=a(65),y=a(235),v=a.n(y),d=a(28),p=g.a.Content,b=g.a.Sider,h=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var l;return Object(c.a)(this,a),(l=t.call(this,e)).getClassify=function(){var e=Object(n.a)(l);f.a.get(E.a.CATEGORY_FIND_ALL).then((function(t){var a=t.data,c=[].concat(Object(i.a)(e.state.classifyList),Object(i.a)(a));e.setState({classifyList:c})}))},l.getArticleList=function(e){var t=Object(n.a)(l),a={current:e,category:t.state.classifyValue};f.a.get(E.a.ARTICLE_FIND,{params:a}).then((function(e){var a=e.data;if(0===a.code){var i=a.result,c=i.list,l=i.total;t.setState({articleList:c,articleTotal:l})}}))},l.classifyChange=function(e){var t=Object(n.a)(l);t.setState({classifyValue:e},(function(){t.getArticleList()}))},l.state={classifyValue:null,classifyList:[{title:"\u5168\u90e8",value:null}],articleCurrent:1,articleList:[],articleTotal:0},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getClassify(),this.getArticleList()}},{key:"render",value:function(){var e=this,t=!1;Object(N.b)()||(t=!0);var a=this.state.classifyList.map((function(t,a){return m.a.createElement("p",{className:e.state.classifyValue===t.value?"active":"",key:a,onClick:e.classifyChange.bind(e,t.value)},t.title)})),i=[];return this.state.articleList.forEach((function(e){var t=e.outline.length>100?"".concat(e.outline.slice(0,100),"..."):e.outline,a="/articleDetails?articleId=".concat(e._id);i.push({title:e.title,outline:t,createTime:e.createTime,linkTo:a,image:"",category:e.category,categoryName:e.categoryName})})),m.a.createElement(g.a,{className:"classify"},t?m.a.createElement(b,{width:330,className:"classify-slider"},a):m.a.createElement("header",{className:"classify-header"},a),m.a.createElement(p,{className:"classify-main"},m.a.createElement("ul",{className:"article"},i.map((function(e,a){return m.a.createElement(v.a,{key:a,transitionName:"example",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},m.a.createElement("li",{className:"article-item"},m.a.createElement("div",{className:"item-cont"},e.image?m.a.createElement("div",{className:"item-cont--img"},m.a.createElement(d.a,{to:e.linkTo,title:e.title},m.a.createElement("img",{src:e.image,alt:e.title}))):"",m.a.createElement("div",null,m.a.createElement(d.a,{to:e.linkTo},m.a.createElement("p",{className:"item-cont--title"},e.title)),m.a.createElement("p",{className:"item-cont--info"},e.outline))),m.a.createElement("div",{className:"item-author"},m.a.createElement("span",{className:"lm"},m.a.createElement("i",{className:"icon-tag2"}),e.categoryName),m.a.createElement("span",{className:"time"},m.a.createElement("i",{className:"icon-time1"}),e.createTime),t?m.a.createElement("span",{className:"more"},m.a.createElement(d.a,{to:e.linkTo},"\u9605\u8bfb\u539f\u6587")):"")))})))))}}]),a}(o.Component);t.default=h}}]);
//# sourceMappingURL=8.db886c65.chunk.js.map