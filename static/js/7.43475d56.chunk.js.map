{"version":3,"sources":["plugins/api.js","page/articleDetails/articleDetails.js"],"names":["API","ARTICLE_FIND","ARTICLE_DETAILS","BANNER_FIND","CATEGORY_FIND_ALL","Content","Layout","Sider","articleDetails","props","getArticleDetails","self","params","id","state","articleId","axios","get","then","data","code","articleData","result","setState","getQueryStringByName","htmlContent","markdownContent","this","className","title","author","createTime","outline","source","escapeHtml","width","offsetTop","ordered","Component"],"mappings":"wHAQeA,IAPI,CACjBC,aAAc,qBACdC,gBAAiB,wBACjBC,YAAa,oBACbC,kBAAmB,2B,4NCUbC,G,OAAmBC,IAAnBD,SAASE,EAAUD,IAAVC,MAEXC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAeRC,kBAAoB,WAClB,IAAMC,EAAI,eACJC,EAAS,CACbC,GAAI,EAAKC,MAAMC,WAEjBC,IAAMC,IAAIjB,IAAIE,gBAAiB,CAAEU,WAC9BM,MAAK,YAAc,IAAXC,EAAU,EAAVA,KACP,GAAkB,IAAdA,EAAKC,KAAY,CACnB,IAAMC,EAAcF,EAAKG,OACzBX,EAAKY,SAAS,CACZF,qBAxBR,EAAKP,MAAQ,CACXC,UAAWS,YAAqB,aAChCH,YAAa,CACXI,YAAa,GACbC,gBAAiB,KANJ,E,gEAWJC,KACRjB,sB,+BAqBL,IAAMW,EAAcM,KAAKb,MAAMO,YAE/B,OACE,kBAAC,IAAD,CAAQO,UAAU,kBAChB,kBAACvB,EAAD,CAASuB,UAAU,gBACjB,uBAAGA,UAAU,uBAAwBP,EAAYQ,OACjD,yBAAKD,UAAU,wBACb,uBAAGA,UAAU,2BACb,8BAAQP,EAAYS,QACpB,uBAAGF,UAAU,uBACb,8BAAQP,EAAYU,aAEtB,yBAAKH,UAAU,uBACb,gDACEP,EAAYW,SAEhB,yBAAKJ,UAAU,oBACb,kBAAC,IAAD,CACEK,OAAQZ,EAAYI,YACpBS,YAAY,MAKlB,kBAAC3B,EAAD,CAAO4B,MAAO,IAAKP,UAAU,gBAC3B,kBAAC,IAAD,CAAOQ,UAAW,GAChB,yBAAKR,UAAU,mBACb,uBAAGA,UAAU,0BAAb,4BACA,kBAAC,IAAD,CACEA,UAAU,eACVK,OAAQZ,EAAYK,gBACpBW,SAAS,Y,GAjEIC,aA2Ed9B","file":"static/js/7.43475d56.chunk.js","sourcesContent":["// 后台接口api的链接\r\nexport const API = {\r\n  ARTICLE_FIND: '/blog/article/find', // 条件查询文章列表\r\n  ARTICLE_DETAILS: '/blog/article/details', // 查询文章详情\r\n  BANNER_FIND: '/blog/banner/find', // 查询banner\r\n  CATEGORY_FIND_ALL: '/blog/category/findAll' // 获取全部分类类型\r\n};\r\n\r\nexport default API;\r\n","import './articleDetails.scss';\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport API from \"../../plugins/api\";\r\nimport {\r\n  Layout,\r\n  Affix\r\n} from 'antd';\r\nimport {\r\n  getQueryStringByName,\r\n} from '../../utils/utils';\r\nimport ReactMarkdown from 'react-markdown'\r\nimport MarkNav from 'markdown-navbar';\r\nimport 'markdown-navbar/dist/navbar.css';\r\n\r\nconst { Content, Sider } = Layout;\r\n\r\nclass articleDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      articleId: getQueryStringByName('articleId'),\r\n      articleData: {\r\n        htmlContent: '',\r\n        markdownContent: ''\r\n      },\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const self = this;\r\n    self.getArticleDetails(); // 获取详情数据\r\n  }\r\n\r\n  // 获取详情数据\r\n  getArticleDetails = ()=> {\r\n    const self = this;\r\n    const params = {\r\n      id: this.state.articleId\r\n    };\r\n    axios.get(API.ARTICLE_DETAILS, { params })\r\n      .then(({ data }) =>{\r\n        if (data.code === 0) {\r\n          const articleData = data.result;\r\n          self.setState({\r\n            articleData,\r\n          });\r\n        }\r\n      })\r\n  };\r\n\r\n  render() {\r\n    const articleData = this.state.articleData;\r\n    // 返回页面\r\n    return (\r\n      <Layout className=\"article-detail\">\r\n        <Content className=\"article-cont\">\r\n          <p className=\"article-cont--title\">{ articleData.title }</p>\r\n          <div className=\"article-cont--author\">\r\n            <i className=\"icon-touxiang author01\" />\r\n            <span>{ articleData.author }</span>\r\n            <i className=\"icon-rili author02\" />\r\n            <span>{ articleData.createTime }</span>\r\n          </div>\r\n          <div className=\"article-cont--about\">\r\n            <strong>简介</strong>\r\n            { articleData.outline }\r\n          </div>\r\n          <div className=\"article-markdown\">\r\n            <ReactMarkdown\r\n              source={articleData.htmlContent}\r\n              escapeHtml={false}\r\n            />\r\n          </div>\r\n          {/*<div dangerouslySetInnerHTML={{__html: articleData.htmlContent }} />*/}\r\n        </Content>\r\n        <Sider width={330} className=\"article-side\">\r\n          <Affix offsetTop={5}>\r\n            <div className=\"article-catalog\">\r\n              <p className=\"article-catalog--title\">文章目录</p>\r\n              <MarkNav\r\n                className=\"article-menu\"\r\n                source={articleData.markdownContent}\r\n                ordered={false}\r\n              />\r\n            </div>\r\n          </Affix>\r\n        </Sider>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default articleDetails;\r\n"],"sourceRoot":""}